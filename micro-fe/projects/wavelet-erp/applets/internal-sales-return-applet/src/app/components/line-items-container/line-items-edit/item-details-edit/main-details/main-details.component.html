<form [formGroup]="form">
  <div fxLayout="row wrap" fxFlexAlign="center" class="view-col-forms">
    <div class="p-10" fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Item Code</mat-label>
        <input matInput readonly placeholder="Item Code" [formControl]="form.controls['itemCode']" type="text">
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Item Name</mat-label>
        <input matInput placeholder="Item Name" [formControl]="form.controls['itemName']" type="text">
      </mat-form-field>

      <app-pricing-scheme-uom  [(uomGuid)]="form.controls['uomGuid']" [(pricingScheme)]="form.controls['pricingScheme']"
        [fiitem$]="item$" [pricing$]="pricing$" [unitPriceType]="'SALES'" (uomToBaseRatio)="onUOMSelected($event)"
        (unitPrice)="onPriceSelected($event)" [(isInclusiveTax)]="isInclusiveTax">
      </app-pricing-scheme-uom>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Unit Price STD (Exclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price (Exclusive of tax)" [formControl]="form.controls['unitPriceStdWithoutTax']"
          type="number" step=".01" [readonly]="!appletSettings.ENABLE_EDITING_UNIT_PRICE_STD" (change)="nullHandler('unitPriceStdWithoutTax', $event.target.value);" >
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Unit Price STD (Inclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price (Inclusive of tax)" [formControl]="form.controls['unitPriceStdWithTax']"
          type="number" step=".01" [readonly]="!appletSettings.ENABLE_EDITING_UNIT_PRICE_STD" (change)="nullHandler('unitPriceStdWithTax', $event.target.value);">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Discount</mat-label>
        <input matInput placeholder="Unit Discount" [formControl]="form.controls['unitDiscount']" type="number"
          step=".01" (change)="nullHandler('unitDiscount', $event.target.value); onCalculateFromUnitDisc()">
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Quantity Base</mat-label>
        <input matInput placeholder="Quantity" [formControl]="form.controls['qty']" type="number"
          (change)="nullHandler('qty', $event.target.value); onCalculate()">
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Quantity by UOM</mat-label>
        <input matInput placeholder="Quantity by UOM" [formControl]="form.controls['qtyUom']" type="number"
          (change)="nullHandler('qtyUom', $event.target.value); onCalculateFromQtyByUom()">
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>UOM to Base Ratio</mat-label>
        <input matInput placeholder="UOM to Base Ratio" [formControl]="form.controls['uomBaseRatio']" type="number"
           readonly>
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price STD by UOM (Exclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price STD by UOM (Exclusive of tax)" [formControl]="form.controls['unitPriceStdUom']"
          type="number" step=".01" readonly (change)="nullHandler('unitPriceStdUom', $event.target.value);">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price STD by UOM (Inclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price STD by UOM (Inclusiveof tax)" [formControl]="form.controls['unitPriceStdUomWithTax']"
          type="number" step=".01" readonly (change)="nullHandler('unitPriceStdUomWithTax', $event.target.value);">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Discount by UOM (Exclusive of tax)</mat-label>
        <input matInput placeholder="Unit Discount by UOM" [formControl]="form.controls['unitDiscountUom']"
          type="number" step=".01"
          (change)="nullHandler('unitDiscountUom', $event.target.value); onCalculateFromUnitDiscountUom()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price Net by UOM (Exclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price by UOM (Exclusive of tax)"
          [formControl]="form.controls['unitPriceNetUom']" type="number" step=".01" readonly
          (change)="nullHandler('unitPriceNetUom', $event.target.value);">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price Transaction by UOM (Inclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price by UOM (Inclusive of tax)"
          [formControl]="form.controls['unitPriceTxnUom']" type="number" step=".01"
          (change)="nullHandler('unitPriceTxnUom', $event.target.value); onCalculateFromUnitPriceTxnUom()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price Net (Exclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price (Exclusive of tax)" [formControl]="form.controls['unitPriceNet']"
          type="number" step=".01"
          (change)="nullHandler('unitPriceNet', $event.target.value); onCalculateFromUnitPriceNet()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>STD Amount(Unit Price x Quantity)</mat-label>
        <input matInput placeholder="STD Amount" [formControl]="form.controls['stdAmt']" type="number" step=".01" readonly>
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Discount Amount(Exclusive of tax)</mat-label>
        <input matInput placeholder="Discount Amount" [formControl]="form.controls['discountAmt']" type="number"
          step=".01" (change)="nullHandler('discountAmt', $event.target.value); onCalculateFromAmountDisc()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Amount Net (Exclusive of tax)</mat-label>
        <input matInput [formControl]="form.controls['netAmt']" type="number" step=".01"
          (change)="nullHandler('netAmt', $event.target.value); onCalculateFromAmountNet()">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Tax Type Code</mat-label>
        <mat-select [formControl]="form.controls['einvoiceTaxTypeCode']" #matSelect>
          <mat-option>
            <ngx-mat-select-search [placeholderLabel]="'Search'" [noEntriesFoundLabel]="'No matching records found'"
              [formControl]="searchText"></ngx-mat-select-search>
          </mat-option>
          <mat-option *ngFor="let option of filteredOptions" [value]="option.Code">
            {{ option.Code }} | {{ option.Description }}
          </mat-option>
        </mat-select>
        <mat-error>
          Tax Type Code <strong>not valid</strong>
        </mat-error>
      </mat-form-field>

      <app-sst  [(sst)]="form.controls['taxCode']" (sstContainer)="onSST($event)"></app-sst>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>SST/GST/VAT</mat-label>
        <input matInput readonly placeholder="SST/GST/VAT" [formControl]="form.controls['taxPercent']" type="number"
          step=".01" (change)="nullHandler('taxPercent', $event.target.value); onCalculate()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Tax Amount</mat-label>
        <input matInput readonly placeholder="Tax Amount" [formControl]="form.controls['taxAmt']" type="number"
          step=".01" >
      </mat-form-field>

      <!-- <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Net Amount(SST/GST/VAT x Net Amount)</mat-label>
        <input matInput readonly [formControl]="form.controls['netAmt2']" type="number">
      </mat-form-field> -->

      <app-wht  [(wht)]="form.controls['whtCode']" (whtContainer)="onWHT($event)"></app-wht>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>WHT</mat-label>
        <input matInput readonly placeholder="WHT" [formControl]="form.controls['whtPercent']" type="number" step=".01"
          (change)="nullHandler('whtPercent', $event.target.value); onCalculate()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>WHT Amount</mat-label>
        <input matInput readonly placeholder="WHT Amount" [formControl]="form.controls['whtAmt']" type="number"
          step=".01">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Unit Price Transaction (Inclusive of tax)</mat-label>
        <input matInput placeholder="Unit Price (Inclusive of tax)" [formControl]="form.controls['unitPriceTxn']"
          type="number" step=".01"
          (change)="nullHandler('unitPriceTxn', $event.target.value); onCalculateFromUnitPriceTxn()">
      </mat-form-field>

      <mat-form-field  class="example-full-width" appearance="outline">
        <mat-label>Txn Amount</mat-label>
        <input matInput placeholder="Txn Amount" [formControl]="form.controls['txnAmt']" type="number" step=".01"
          (change)="nullHandler('txnAmt', $event.target.value); onCalculateFromAmountTxn()">
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Remarks</mat-label>
        <textarea #remarks matInput placeholder="Remarks" [formControl]="form.controls['remarks']"></textarea>
        <mat-hint align="end">{{remarks.value.length}} characters</mat-hint>
      </mat-form-field>
    </div>
  </div>
</form>
